<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boules Animées</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen">
  <h1 class="text-3xl font-bold mb-8 text-center">Bienvenue ! Voici trois boules animées</h1>
  <div id="scene-container" class="w-full flex justify-center items-center" style="height: 400px;">
    <!-- La scène Three.js sera injectée ici -->
  </div>
  <script>
    // Initialisation de la scène
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, 600/400, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ alpha: true });
    renderer.setSize(600, 400);
    document.getElementById('scene-container').appendChild(renderer.domElement);

    // Lumière
    const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
    scene.add(ambientLight);

    // Boule du milieu (rotation)
    const geometryCenter = new THREE.SphereGeometry(1, 32, 32);
    const materialCenter = new THREE.MeshStandardMaterial({ color: 0x3b82f6 });
    const sphereCenter = new THREE.Mesh(geometryCenter, materialCenter);
    sphereCenter.position.set(0, 0, 0);
    scene.add(sphereCenter);

    // Boule gauche (rebond vertical)
    const geometryLeft = new THREE.SphereGeometry(0.7, 32, 32);
    const materialLeft = new THREE.MeshStandardMaterial({ color: 0xf59e42 });
    const sphereLeft = new THREE.Mesh(geometryLeft, materialLeft);
    sphereLeft.position.set(-2.7, -1.5, 0); // extrémité gauche
    scene.add(sphereLeft);

    // Boule droite (rebond vertical)
    const geometryRight = new THREE.SphereGeometry(0.7, 32, 32);
    const materialRight = new THREE.MeshStandardMaterial({ color: 0x10b981 });
    const sphereRight = new THREE.Mesh(geometryRight, materialRight);
    sphereRight.position.set(2.7, -1.5, 0); // extrémité droite
    scene.add(sphereRight);

    camera.position.z = 7;

    // Animation
    let leftDirection = 1;
    let rightDirection = 1;
    function animate() {
      requestAnimationFrame(animate);

      // Boule du milieu tourne
      sphereCenter.rotation.y += 0.03;

      // Boule gauche rebondit verticalement
      sphereLeft.position.y += 0.07 * leftDirection;
      if (sphereLeft.position.y >= 1.5) leftDirection = -1;
      if (sphereLeft.position.y <= -1.5) leftDirection = 1;

      // Boule droite rebondit verticalement
      sphereRight.position.y += 0.07 * rightDirection;
      if (sphereRight.position.y >= 1.5) rightDirection = -1;
      if (sphereRight.position.y <= -1.5) rightDirection = 1;

      renderer.render(scene, camera);
    }
    animate();
  </script>
</body>
</html>